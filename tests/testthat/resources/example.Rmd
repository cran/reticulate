---
title: "Using reticulate's Python Engine with knitr"
---

```{r setup, include = FALSE}
library(reticulate)
knitr::knit_engines$set(python = eng_python)
```

Python variables live across chunk boundaries.

```{python}
x = 1
y = 2
```

```{python}
print x
print y
```

Plots generated by `matplotlib` are properly displayed.

```{python, fig.width = 4, fig.height = 3, dev = 'svg'}
import matplotlib.pyplot as plt

plt.plot([1, 2, 3, 4])
plt.show()

plt.plot([1, 2, 3, 4])
plt.show()
```

Python can access objects available in the R environment.

```{r}
x <- 1:5
y <- 6:10
```

```{python}
print r.x
print r['y']

r.hello = "World"
r['answer'] = 42
```

```{r}
print(hello)
print(answer)
```

Arbitrary R code can be evaluated from Python.

```{python}
mpg = r["mtcars$mpg[1:5]"]
print mpg
```

- #126: Ensure single-line Python chunks that produce no output still have source code emitted.

```{python}
y = "a,b,c".split(",")
```

```{python}
print y
```

